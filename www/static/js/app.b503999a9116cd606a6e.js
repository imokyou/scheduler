webpackJsonp([0],[,,,function(e,t,s){"use strict";var a=s(1),n=s(24),i=s(19),o=s.n(i),r=s(18),l=s.n(r),c=s(17),u=s.n(c);a.a.use(n.a),t.a=new n.a({mode:"history",routes:[{path:"/",redirect:"/schedules/"},{path:"/schedule/add/",name:"Add",component:u.a},{path:"/schedules/",name:"Schedules",component:o.a},{path:"/schedule/:sid/",name:"Schedule",component:l.a}]})},function(e,t,s){function a(e){s(14)}var n=s(0)(s(6),s(21),a,null,null);e.exports=n.exports},,function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(2),n=s.n(a),i=(new Date,new Date((new Date).getTime()+864e5));t.default={name:"add",data:function(){return{options:["","KEEP-徒手胸肌训练","上斜俯卧撑15x4","下斜俯卧撑12x4","哑铃平地卧推15x4","哑铃平地飞鸟12x4","KEEP-腹肌撕裂者进阶","西西里卷腹15x4","仰卧抬腿12x4","KEEP-哑铃肩部塑型训练","KEEP-背部塑型","哑铃俯身划船左右12x4","KEEP-拳击燃脂","KEEP-HIIT刷脂 K3","KEEP-HIIT活力 K1","KEEP-HIIT唤醒 K1","KEEP-跳绳HIIT初级版 K2","KEEP-HIIT唤醒K1","KEEP-HIIT燃脂初级 K2","自由跑3KM以上"],titles:["虐胸、HIIT刷脂","腹、核心、HIIT刷脂","肩背、HIIT刷脂","全身、跑步","休息日、跑步放松","全身、HIIT刷脂"],stype:"keepfit",title:"",date:i.toISOString().slice(0,10),targets:new Array(9),inames:["item1","item2","item3","item4","item5","item6","item7","item8","item9"]}},watch:{stype:function(e){this.$set(this,"targets",new Array(9)),this.$set(this,"title","")}},methods:{saveSchedule:function(){var e=new FormData;e.append("stype",this.stype),e.append("startdate",this.date),e.append("title",this.title),e.append("targets",n()(this.targets)),this.$http.post("/api/schedule/add/",e).then(function(e){console.log(e),alert("操作成功!")}).catch(function(e){console.log(e)})}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"schedule",data:function(){return{msg:"Welcome to Your Vue.js App"}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(2),n=s.n(a);s(1);t.default={name:"schedules",data:function(){return{stype:"keepfit",schedules:[]}},created:function(){this.getSchedules(this.stype)},methods:{getSchedules:function(e){var t=this;this.stype=e,this.$http.get("/api/schedules/"+e+"/").then(function(e){for(var s=e.data.data,a=s.length-1;a>=0;a--)s[a].editing=0;t.$set(t,"schedules",s)}).catch(function(e){console.log(e),t.$set(t,"schedules",[])})},editSchedule:function(e){if(this.schedules[e].complete_percent>=100)return!1;this.schedules[e].editing=1},cancleEditSchedule:function(e){this.schedules[e].editing=0},updateTarget:function(e,t,s,a){a.target.checked?this.$set(this.schedules[t].targets[s],"done",1):this.$set(this.schedules[t].targets[s],"done",0),this.updateSchedule(e,t)},updateSchedule:function(e,t){var s=new FormData;s.append("id",e),s.append("targets",n()(this.schedules[t].targets)),this.$http.post("/api/schedule/"+e+"/update/",s).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},delSchedule:function(e,t){return!1}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(1),n=s(5),i=s(4),o=s.n(i),r=s(3);a.a.config.productionTip=!0,a.a.use(n.a),new a.a({el:"#app",router:r.a,template:"<App/>",components:{App:o.a}})},,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,s){function a(e){s(16)}var n=s(0)(s(7),s(23),a,"data-v-d6563200",null);e.exports=n.exports},function(e,t,s){function a(e){s(13)}var n=s(0)(s(8),s(20),a,"data-v-374e7c70",null);e.exports=n.exports},function(e,t,s){function a(e){s(15)}var n=s(0)(s(9),s(22),a,"data-v-ab29cf4a",null);e.exports=n.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h1",[e._v(e._s(e.msg))]),e._v(" "),s("h2",[e._v("schedule detail")])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"app-header"},[s("p",[s("router-link",{staticClass:"pull-left",attrs:{to:"/schedules/",tag:"a"}},[e._v("列表页")]),e._v(" "),s("router-link",{staticClass:"pull-right",attrs:{to:"/schedule/add/",tag:"a"}},[e._v("新增")])],1)]),e._v(" "),s("keep-alive",[s("router-view")],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"schedule-nav"},[s("ul",[s("li",{class:{active:"keepfit"===e.stype},on:{click:function(t){e.getSchedules("keepfit")}}},[e._v("为了腹肌")]),e._v(" "),s("li",{class:{active:"stady"===e.stype},on:{click:function(t){e.getSchedules("stady")}}},[e._v("哪里不懂点哪里")])])]),e._v(" "),s("div",{staticClass:"clearfix"}),e._v(" "),e._l(e.schedules,function(t,a){return s("div",{staticClass:"schedule-list",class:{"schedule-today":t.is_today}},[s("p",[e._v("日期："+e._s(t.date))]),e._v(" "),s("p",[e._v("主题："+e._s(t.title))]),e._v(" "),s("p",[e._v("完成情况："+e._s(t.summary))]),e._v(" "),s("p",[e._v("目标：")]),e._v(" "),s("ol",e._l(t.targets,function(n,i){return s("li",[e._v("\n        "+e._s(n.content)+"\n        "),t.editing?e._e():s("span",{directives:[{name:"show",rawName:"v-show",value:n.done,expression:"target.done"}]},[e._v("✓")]),e._v(" "),n.done?s("input",{directives:[{name:"show",rawName:"v-show",value:t.editing,expression:"schedule.editing"}],attrs:{type:"checkbox",checked:"checked",name:"done",value:"完成"},on:{click:function(t){e.updateTarget(a,i,t)}}}):s("input",{directives:[{name:"show",rawName:"v-show",value:t.editing,expression:"schedule.editing"}],attrs:{type:"checkbox",name:"done",value:"完成"},on:{click:function(s){e.updateTarget(t.id,a,i,s)}}})])})),e._v(" "),s("div",{staticClass:"schedule-toolbar"},[s("ul",[s("li",{directives:[{name:"show",rawName:"v-show",value:!t.editing,expression:"!schedule.editing"}],on:{click:function(t){e.editSchedule(a)}}},[e._v("点击更新")]),e._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:t.editing,expression:"schedule.editing"}],on:{click:function(t){e.cancleEditSchedule(a)}}},[e._v("返回")]),e._v(" "),s("li",{on:{click:function(s){e.updateSchedule(t.id)}}},[e._v("删除日程")])])])])})],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"schedule-add"},[s("form",[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"date"}},[e._v("日期: ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.date,expression:"date"}],staticClass:"form-control",attrs:{type:"text",id:"date",placeholder:"日期,为空明默认明天"},domProps:{value:e.date},on:{input:function(t){t.target.composing||(e.date=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"stype"}},[e._v("日程类型: ")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.stype,expression:"stype"}],staticClass:"form-control",attrs:{name:"stype"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.stype=t.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"keepfit"}},[e._v("为了腹肌")]),e._v(" "),s("option",{attrs:{value:"stady"}},[e._v("哪里不懂点哪里")])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"keepfit"===e.stype,expression:"stype === 'keepfit' "}],staticClass:"form-group"},[s("label",{attrs:{for:"title"}},[e._v("主题: ")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"form-control",attrs:{name:"title"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.title=t.target.multiple?s:s[0]}}},e._l(e.titles,function(t){return s("option",{domProps:{value:t}},[e._v(e._s(t))])}))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"keepfit"===e.stype,expression:"stype === 'keepfit' "}],staticClass:"form-group"},[s("label",{attrs:{for:"item1"}},[e._v("目标: ")]),e._v(" "),s("ol",e._l(e.inames,function(t,a){return s("li",[s("select",{directives:[{name:"model",rawName:"v-model",value:e.targets[a],expression:"targets[index]"}],staticClass:"form-control",attrs:{name:t},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.targets,a,t.target.multiple?s:s[0])}}},e._l(e.options,function(t){return s("option",{domProps:{value:t}},[e._v(e._s(t))])}))])}))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"stady"===e.stype,expression:"stype === 'stady' "}],staticClass:"form-group"},[s("label",{attrs:{for:"title"}},[e._v("主题: ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"哪里不懂点哪里"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}})]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"stady"===e.stype,expression:"stype === 'stady' "}],staticClass:"form-group"},[s("label",{attrs:{for:"item1"}},[e._v("目标: ")]),e._v(" "),s("ol",e._l(e.inames,function(t,a){return s("li",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.targets[a],expression:"targets[index]"}],staticClass:"form-control",attrs:{type:"text",name:t,id:t},domProps:{value:e.targets[a]},on:{input:function(t){t.target.composing||e.$set(e.targets,a,t.target.value)}}})])}))]),e._v(" "),s("a",{staticClass:"btn btn-default",staticStyle:{width:"100%"},attrs:{type:"button"},on:{click:e.saveSchedule}},[e._v("提交")])])])},staticRenderFns:[]}},,,,function(e,t){}],[10]);
//# sourceMappingURL=app.b503999a9116cd606a6e.js.map